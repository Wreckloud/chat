<!--创建群组页面-->
<view class="container">
  <!-- 表单 -->
  <view class="form-section">
    <van-cell-group>
      <!-- 群名称 -->
      <van-field
        value="{{ groupName }}"
        label="群名称"
        placeholder="请输入群名称"
        required
        maxlength="30"
        show-word-limit
        bind:change="onGroupNameChange"
      />
      
      <!-- 群简介 -->
      <van-field
        value="{{ groupIntro }}"
        label="群简介"
        type="textarea"
        placeholder="请输入群简介（选填）"
        maxlength="200"
        show-word-limit
        autosize
        bind:change="onGroupIntroChange"
      />
    </van-cell-group>

    <!-- 选择成员 -->
    <view class="member-section">
      <view class="section-title">
        <text>选择成员</text>
        <text class="tip">（输入好友的WF号）</text>
      </view>
      
      <view class="member-input">
        <van-field
          value="{{ memberInput }}"
          placeholder="请输入WF号，回车添加"
          type="number"
          maxlength="10"
          bind:change="onMemberInputChange"
          bind:confirm="addMember"
        >
          <van-button 
            slot="button" 
            size="small" 
            type="primary"
            bind:click="addMember"
          >
            添加
          </van-button>
        </van-field>
      </view>

      <!-- 已添加成员列表 -->
      <view class="member-list" wx:if="{{ memberIds.length > 0 }}">
        <view 
          class="member-item" 
          wx:for="{{ memberIds }}" 
          wx:key="*this"
        >
          <text class="member-no">WF{{ item }}</text>
          <van-icon 
            name="cross" 
            class="remove-icon"
            bind:click="removeMember"
            data-id="{{ item }}"
          />
        </view>
      </view>
    </view>
  </view>

  <!-- 提交按钮 -->
  <view class="button-section">
    <van-button 
      type="info" 
      block 
      round
      bind:click="createGroup"
      loading="{{ createLoading }}"
      disabled="{{ createLoading }}"
    >
      创建群组 🐺
    </van-button>
  </view>
</view>


<!--Tab‰∏ªÈ°µ-->
<van-tabs 
  active="{{ active }}" 
  bind:change="onChange"
  color="#667eea"
  title-active-color="#667eea"
>
  <van-tab title="Ê∂àÊÅØ">
    <view class="tab-content">
      <van-empty description="Ê∂àÊÅØÂäüËÉΩÂºÄÂèë‰∏≠..." image="search" />
    </view>
  </van-tab>
  
  <van-tab title="Áæ§ËÅäüê∫">
    <view class="tab-content">
      <!-- Áæ§ÁªÑÂàóË°® -->
      <view class="group-list" wx:if="{{ groups.length > 0 }}">
        <van-cell-group>
          <van-cell
            wx:for="{{ groups }}"
            wx:key="groupId"
            title="{{ item.groupName }}"
            label="ÊàêÂëò: {{ item.memberCount }}‰∫∫"
            is-link
            bind:click="gotoGroupDetail"
            data-id="{{ item.groupId }}"
          >
            <view slot="icon" class="group-avatar">
              <image 
                class="avatar-img" 
                src="{{ item.groupAvatar || '/images/default-group.png' }}" 
                mode="aspectFill"
              ></image>
            </view>
            <view slot="right-icon" class="role-badge" wx:if="{{ item.myRole === 'OWNER' || item.myRole === 'ADMIN' }}">
              <van-tag type="primary" size="medium" wx:if="{{ item.myRole === 'OWNER' }}">Áæ§‰∏ª</van-tag>
              <van-tag type="success" size="medium" wx:if="{{ item.myRole === 'ADMIN' }}">ÁÆ°ÁêÜ</van-tag>
            </view>
          </van-cell>
        </van-cell-group>
      </view>

      <!-- Á©∫Áä∂ÊÄÅ -->
      <view wx:else class="empty-state">
        <van-empty description="ÊöÇÊó†Áæ§ÁªÑ">
          <van-button 
            round 
            type="primary" 
            custom-class="empty-button"
            bind:click="gotoCreateGroup"
          >
            ÂàõÂª∫Á¨¨‰∏Ä‰∏™Áæ§ÁªÑ
          </van-button>
        </van-empty>
      </view>

      <!-- ÂàõÂª∫Áæ§ÁªÑÊåâÈíÆ -->
      <view class="fab-button">
        <van-button 
          icon="plus" 
          type="info" 
          round
          custom-class="create-button"
          bind:click="gotoCreateGroup"
        >
          ÂàõÂª∫Áæ§ÁªÑ
        </van-button>
      </view>
    </view>
  </van-tab>
  
  <van-tab title="ÊàëÁöÑ">
    <view class="tab-content">
      <view class="user-section">
        <!-- Áî®Êà∑‰ø°ÊÅØ -->
        <view class="user-card">
          <view class="user-avatar">
            <image 
              src="{{ userInfo.avatar || '/images/default-avatar.png' }}" 
              mode="aspectFill"
            ></image>
          </view>
          <view class="user-info">
            <text class="username">{{ userInfo.username || 'ÁãºÂèã' }}</text>
            <text class="wf-no">WFÂè∑: {{ userInfo.wfNo }}</text>
          </view>
        </view>

        <!-- ÂäüËÉΩÂàóË°® -->
        <van-cell-group custom-class="function-list">
          <van-cell title="‰∏™‰∫∫ËµÑÊñô" is-link icon="user-o" />
          <van-cell title="ËÆæÁΩÆ" is-link icon="setting-o" />
          <van-cell title="ÂÖ≥‰∫é" is-link icon="info-o" />
          <van-cell 
            title="ÈÄÄÂá∫ÁôªÂΩï" 
            icon="sign-o"
            bind:click="logout"
          />
        </van-cell-group>
      </view>
    </view>
  </van-tab>
</van-tabs>


# WolfChat ç®¡ç†ç«¯ API å®ç°çŠ¶æ€ ğŸº

> è®°å½•å‰ç«¯å·²è°ƒç”¨å’Œåç«¯å®ç°çŠ¶æ€

---

## âœ… å·²å®ç°çš„æ¥å£

### è´¦æˆ·ç›¸å…³ `/api/account`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|------|------|
| å‘é€éªŒè¯ç  | POST | `/account/sms/send` | âœ… | ä½¿ç”¨æŸ¥è¯¢å‚æ•° |
| æ‰‹æœºå·ç™»å½• | POST | `/account/login/mobile` | âœ… | ç™»å½•/è‡ªåŠ¨æ³¨å†Œ |
| æŸ¥è¯¢ç”¨æˆ· | GET | `/account/user/{id}` | âœ… | æµ‹è¯•æ¥å£ |

### ç¾¤ç»„ç›¸å…³ `/api/group`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|------|------|
| è·å–æˆ‘çš„ç¾¤ç»„ | GET | `/group/my-groups` | âœ… | ä¸æ”¯æŒåˆ†é¡µ |
| åˆ›å»ºç¾¤ç»„ | POST | `/group` | âœ… | æ”¯æŒç©ºæˆå‘˜åˆ—è¡¨ |
| è·å–ç¾¤ç»„è¯¦æƒ… | GET | `/group/{groupId}` | âœ… | - |
| æ›´æ–°ç¾¤ç»„ | PUT | `/group/{groupId}` | âœ… | - |
| è§£æ•£ç¾¤ç»„ | DELETE | `/group/{groupId}/dismiss` | âœ… | - |

### ç¾¤æˆå‘˜ç›¸å…³ `/api/group/{groupId}/members`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|------|------|
| è·å–æˆå‘˜åˆ—è¡¨ | GET | `/members` | âœ… | - |
| é‚€è¯·æˆå‘˜ | POST | `/members/invite` | âœ… | - |
| ç§»é™¤æˆå‘˜ | DELETE | `/members/{userId}` | âœ… | - |
| é€€å‡ºç¾¤ç»„ | DELETE | `/members/leave` | âœ… | - |
| è®¾ç½®ç®¡ç†å‘˜ | PUT | `/members/admin` | âœ… | - |
| æ›´æ–°ç¾¤æ˜µç§° | PUT | `/members/nickname` | âœ… | - |

### ç¾¤è®¾ç½®ç›¸å…³ `/api/group/{groupId}`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|------|------|
| è·å–å…¬å‘Šåˆ—è¡¨ | GET | `/notices` | âœ… | - |
| å‘å¸ƒå…¬å‘Š | POST | `/notices` | âœ… | - |
| åˆ é™¤å…¬å‘Š | DELETE | `/notices/{noticeId}` | âœ… | - |
| ç¦è¨€æˆå‘˜ | PUT | `/settings/mute` | âœ… | - |
| è½¬è®©ç¾¤ä¸» | PUT | `/settings/transfer` | âœ… | - |

---

## âŒ æœªå®ç°çš„æ¥å£ï¼ˆç®¡ç†å‘˜ä¸“ç”¨ï¼‰

### ç”¨æˆ·ç®¡ç† `/api/admin/users`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|------|------|
| ç”¨æˆ·åˆ—è¡¨ | GET | `/admin/users` | âŒ | éœ€è¦åˆ†é¡µ |
| ç”¨æˆ·è¯¦æƒ… | GET | `/admin/users/{id}` | âŒ | - |
| ç¦ç”¨ç”¨æˆ· | PUT | `/admin/users/{id}/disable` | âŒ | - |
| å¯ç”¨ç”¨æˆ· | PUT | `/admin/users/{id}/enable` | âŒ | - |

### ç»Ÿè®¡æ•°æ® `/api/admin/statistics`

| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|------|------|
| ç³»ç»Ÿç»Ÿè®¡ | GET | `/admin/statistics` | âŒ | æ€»è§ˆæ•°æ® |
| ç”¨æˆ·ç»Ÿè®¡ | GET | `/admin/statistics/users` | âŒ | ç”¨æˆ·æ•°ã€æ´»è·ƒç”¨æˆ· |
| ç¾¤ç»„ç»Ÿè®¡ | GET | `/admin/statistics/groups` | âŒ | ç¾¤ç»„æ•° |
| æ¶ˆæ¯ç»Ÿè®¡ | GET | `/admin/statistics/messages` | âŒ | æ¶ˆæ¯æ•° |

---

## ğŸ“Š å‰ç«¯é¡µé¢ä½¿ç”¨æƒ…å†µ

### ç™»å½•é¡µ `src/views/login/index.vue`

**ä½¿ç”¨çš„API**:
- âœ… `POST /api/account/sms/send` - å‘é€éªŒè¯ç 
- âœ… `POST /api/account/login/mobile` - æ‰‹æœºå·ç™»å½•

**çŠ¶æ€**: å®Œå…¨å¯ç”¨ âœ…

---

### æ§åˆ¶å° `src/views/dashboard/index.vue`

**ä½¿ç”¨çš„API**:
- âœ… `GET /api/group/my-groups` - è·å–ç¾¤ç»„æ•°é‡
- âŒ `GET /api/admin/statistics` - ç³»ç»Ÿç»Ÿè®¡ï¼ˆæœªå®ç°ï¼‰

**çŠ¶æ€**: éƒ¨åˆ†å¯ç”¨ âš ï¸
- å¯ä»¥æ˜¾ç¤ºç¾¤ç»„æ•°é‡
- ç”¨æˆ·æ•°ã€æ¶ˆæ¯æ•°ã€æ´»è·ƒç”¨æˆ·æ•°æš‚æ—¶æ˜¾ç¤º0

---

### ç”¨æˆ·ç®¡ç† `src/views/users/index.vue`

**ä½¿ç”¨çš„API**:
- âŒ `GET /api/admin/users` - ç”¨æˆ·åˆ—è¡¨ï¼ˆæœªå®ç°ï¼‰
- âŒ `PUT /api/admin/users/{id}/disable` - ç¦ç”¨ç”¨æˆ·ï¼ˆæœªå®ç°ï¼‰
- âŒ `PUT /api/admin/users/{id}/enable` - å¯ç”¨ç”¨æˆ·ï¼ˆæœªå®ç°ï¼‰

**çŠ¶æ€**: ä¸å¯ç”¨ âŒ
- æ‰“å¼€é¡µé¢ä¼šæŠ¥404é”™è¯¯
- éœ€è¦åç«¯å®ç°ç®¡ç†å‘˜æ¥å£

---

### ç¾¤ç»„ç®¡ç† `src/views/groups/index.vue`

**ä½¿ç”¨çš„API**:
- âœ… `GET /api/group/my-groups` - æˆ‘çš„ç¾¤ç»„åˆ—è¡¨
- âœ… `DELETE /api/group/{groupId}/dismiss` - è§£æ•£ç¾¤ç»„

**çŠ¶æ€**: å®Œå…¨å¯ç”¨ âœ…
- å¯ä»¥æŸ¥çœ‹ç¾¤ç»„åˆ—è¡¨
- å¯ä»¥æœç´¢å’Œåˆ†é¡µï¼ˆå‰ç«¯å®ç°ï¼‰
- å¯ä»¥è§£æ•£ç¾¤ç»„

---

### ç¾¤ç»„è¯¦æƒ… `src/views/groups/detail.vue`

**ä½¿ç”¨çš„API**:
- âœ… `GET /api/group/{groupId}` - ç¾¤ç»„è¯¦æƒ…
- âœ… `GET /api/group/{groupId}/members` - æˆå‘˜åˆ—è¡¨
- âœ… `GET /api/group/{groupId}/notices` - å…¬å‘Šåˆ—è¡¨
- âœ… `DELETE /api/group/{groupId}/members/{userId}` - ç§»é™¤æˆå‘˜
- âœ… `DELETE /api/group/{groupId}/notices/{noticeId}` - åˆ é™¤å…¬å‘Š

**çŠ¶æ€**: å®Œå…¨å¯ç”¨ âœ…
- å¯ä»¥æŸ¥çœ‹ç¾¤ç»„è¯¦ç»†ä¿¡æ¯
- å¯ä»¥ç®¡ç†ç¾¤æˆå‘˜
- å¯ä»¥ç®¡ç†ç¾¤å…¬å‘Š

---

## ğŸ¯ å¼€å‘å»ºè®®

### ç«‹å³å¯ç”¨çš„åŠŸèƒ½

1. **ç™»å½•ç³»ç»Ÿ** âœ…
   - å®Œå…¨å¯ç”¨ï¼Œå¯ä»¥æ­£å¸¸ç™»å½•

2. **ç¾¤ç»„ç®¡ç†** âœ…
   - æŸ¥çœ‹æˆ‘çš„ç¾¤ç»„åˆ—è¡¨
   - æŸ¥çœ‹ç¾¤ç»„è¯¦æƒ…
   - ç®¡ç†ç¾¤æˆå‘˜
   - ç®¡ç†ç¾¤å…¬å‘Š
   - è§£æ•£ç¾¤ç»„

3. **æ§åˆ¶å°** âš ï¸
   - å¯ä»¥æ˜¾ç¤ºç¾¤ç»„æ•°é‡
   - å…¶ä»–ç»Ÿè®¡æ•°æ®å¾…åç«¯å®ç°

### éœ€è¦åç«¯æ”¯æŒçš„åŠŸèƒ½

1. **ç”¨æˆ·ç®¡ç†** âŒ
   ```java
   // éœ€è¦åœ¨åç«¯å®ç°
   @RestController
   @RequestMapping("/api/admin/users")
   public class AdminUserController {
       // GET /api/admin/users - ç”¨æˆ·åˆ—è¡¨
       // GET /api/admin/users/{id} - ç”¨æˆ·è¯¦æƒ…
       // PUT /api/admin/users/{id}/disable - ç¦ç”¨ç”¨æˆ·
       // PUT /api/admin/users/{id}/enable - å¯ç”¨ç”¨æˆ·
   }
   ```

2. **ç»Ÿè®¡æ•°æ®** âŒ
   ```java
   // éœ€è¦åœ¨åç«¯å®ç°
   @RestController
   @RequestMapping("/api/admin/statistics")
   public class StatisticsController {
       // GET /api/admin/statistics - ç³»ç»Ÿç»Ÿè®¡
       // GET /api/admin/statistics/users - ç”¨æˆ·ç»Ÿè®¡
       // GET /api/admin/statistics/groups - ç¾¤ç»„ç»Ÿè®¡
       // GET /api/admin/statistics/messages - æ¶ˆæ¯ç»Ÿè®¡
   }
   ```

---

## ğŸ”§ å‰ç«¯é€‚é…è¯´æ˜

### å·²å®Œæˆçš„é€‚é…

1. **ç§»é™¤æ‰€æœ‰Mockæ•°æ®** âœ…
   - ä¸å†ç”Ÿæˆå‡æ•°æ®
   - æ¥å£å¤±è´¥æ—¶ç›´æ¥æ˜¾ç¤ºé”™è¯¯

2. **è¡¥å……æ‰€æœ‰å·²å®ç°æ¥å£** âœ…
   - è´¦æˆ·ç›¸å…³æ¥å£
   - ç¾¤ç»„CRUDæ¥å£
   - ç¾¤æˆå‘˜ç®¡ç†æ¥å£
   - ç¾¤è®¾ç½®æ¥å£

3. **å‰ç«¯æœç´¢å’Œåˆ†é¡µ** âœ…
   - ç¾¤ç»„åˆ—è¡¨ä½¿ç”¨å‰ç«¯è¿‡æ»¤
   - å‰ç«¯å®ç°åˆ†é¡µé€»è¾‘

### å½“å‰è¡Œä¸º

- âœ… **å·²å®ç°çš„æ¥å£**: æ­£å¸¸è°ƒç”¨ï¼Œæ˜¾ç¤ºçœŸå®æ•°æ®
- âŒ **æœªå®ç°çš„æ¥å£**: ä¼šæŠ¥404é”™è¯¯ï¼Œå‰ç«¯æ˜¾ç¤ºç©ºæ•°æ®

---

## ğŸ“ æµ‹è¯•å»ºè®®

### æµ‹è¯•ç™»å½•
```bash
# 1. å¯åŠ¨åç«¯
cd chat/backend
mvn spring-boot:run

# 2. å¯åŠ¨å‰ç«¯
cd chat/front/admin
npm run dev

# 3. è®¿é—® http://localhost:5173
# 4. ä½¿ç”¨æ‰‹æœºå·ç™»å½•
```

### æµ‹è¯•ç¾¤ç»„ç®¡ç†
```
1. ç™»å½•æˆåŠŸå
2. ç‚¹å‡»"ç¾¤ç»„ç®¡ç†"
3. å¯ä»¥çœ‹åˆ°æ‰€æœ‰ç¾¤ç»„ï¼ˆå¦‚æœæœ‰ï¼‰
4. ç‚¹å‡»"æŸ¥çœ‹"å¯ä»¥è¿›å…¥è¯¦æƒ…é¡µ
5. å¯ä»¥ç®¡ç†æˆå‘˜å’Œå…¬å‘Š
```

### æµ‹è¯•ç”¨æˆ·ç®¡ç†
```
1. ç‚¹å‡»"ç”¨æˆ·ç®¡ç†"
2. ä¼šçœ‹åˆ°404é”™è¯¯æç¤º
3. ç­‰å¾…åç«¯å®ç°ç›¸å…³æ¥å£
```

---

**æ›´æ–°æ—¶é—´**: 2024-12-18
**çŠ¶æ€**: å·²æ¸…ç†æ‰€æœ‰Mockæ•°æ®ï¼Œä½¿ç”¨çœŸå®API âœ…

